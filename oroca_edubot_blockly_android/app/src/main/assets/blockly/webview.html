<!DOCTYPE html>
<!-- HTML file to host Blockly in a mobile WebView. -->
<html>

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <link rel="stylesheet" href="styles.css">
  <script src="blockly_compressed.js"></script>
  <script src="blocks_compressed.js"></script>
  <script src="acorn_interpreter.js"></script>
  <script src="javascript_compressed.js"></script>
  <!-- TODO: Select msg file based on locale. -->
  <script src="modern.js"></script>
  <script src="msg/js/en.js"></script>
  <script src="blocks_edubot.js"></script>
  <script src="toolbox_standard.js"></script>
</head>

<body>
  <div id="blocklyDiv"></div>
  <script type="text/javascript">
    var workspace = Blockly.inject('blocklyDiv', {
        media: 'media/',
        toolbox: BLOCKLY_TOOLBOX_XML['standard'],
        zoom: { controls: true,
              startScale: 1.1},
        trashcan: true,
        theme: Blockly.Themes.Modern,
    });

    function getXmlTextFromWorkspace() {
        var xml = Blockly.Xml.workspaceToDom(workspace);
        var xml_text = Blockly.Xml.domToText(xml);
        return xml_text;
    }

    function restoreXmlTextToWorkspace(xml_text) {
        Blockly.mainWorkspace.clear();

        var xml = Blockly.Xml.textToDom(xml_text);
        Blockly.Xml.domToWorkspace(xml, workspace);

        Blockly.mainWorkspace.zoomCenter(0);
    }
  </script>
</body>
</html>